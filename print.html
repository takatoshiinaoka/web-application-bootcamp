<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>web-application-bootcamp</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> はじめに</a></li><li class="chapter-item expanded "><a href="work.html"><strong aria-hidden="true">2.</strong> Phase01の課題について</a></li><li class="chapter-item expanded "><a href="php/php_setup/index.html"><strong aria-hidden="true">3.</strong> PHP事前準備</a></li><li class="chapter-item expanded "><a href="php/php01/index.html"><strong aria-hidden="true">4.</strong> Day01</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="php/php01/about-php.html"><strong aria-hidden="true">4.1.</strong> PHP概要</a></li><li class="chapter-item expanded "><a href="php/php01/get-started.html"><strong aria-hidden="true">4.2.</strong> 開発の手順</a></li><li class="chapter-item expanded "><a href="php/php01/php-start.html"><strong aria-hidden="true">4.3.</strong> PHP基礎</a></li><li class="chapter-item expanded "><a href="php/php01/get-post.html"><strong aria-hidden="true">4.4.</strong> クライアント - サーバ間の通信</a></li><li class="chapter-item expanded "><a href="php/php01/data-select.html"><strong aria-hidden="true">4.5.</strong> パラメータ送信による検索機能の実装</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">web-application-bootcamp</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="はじめに"><a class="header" href="#はじめに">はじめに</a></h1>
<h2 id="内容について"><a class="header" href="#内容について">内容について</a></h2>
<p>本講座では前半にPHP，後半にLaravelを用いてWebアプリケーションの実装を学びます．</p>
<p>PHPではWebアプリケーションの仕組みや用いられている基礎的な技術を，Laravelでは実際のアプリケーション開発に対する考え方や実践的な開発を扱います．</p>
<p>プログラミング初心者でもできる構成にしています．毎回ハンズオン形式でアプリケーションを実装しながら進めますので，まずはわからなくても手を動かして「コードと動きの対応」を把握しながら進めていきましょう！</p>
<p>講義で使用するサンプルコードは全て下記URLに保存します．毎回の講義前にダウンロードをお願いします！</p>
<p><a href="https://bit.ly/2X9TaPC">https://bit.ly/2X9TaPC</a></p>
<h2 id="宿題など"><a class="header" href="#宿題など">宿題など</a></h2>
<p>毎回講義での宿題は特にありません．まずは講義内の内容をしっかり実装することが大切ですが，講義だけ受けていてもできるようにはなりません．</p>
<p>特に，講義でははじめてWebアプリ開発を行う方でも「自分の手で実装したWebアプリケーションを動かす」ことができるようにつくっているため，多少経験がある方には物足りないかもしれません．</p>
<p>そこで，そういった方は講義の内容に留まらず試行錯誤しながらガンガンチャレンジしてみましょう！</p>
<ul>
<li>【必須】まず講義内で扱った部分をしっかり実装する（講義中に一通りできるようになっています）．</li>
<li>【必須】講義内で全部終わらなかった部分は，次の講義までに必ず実装しておく．わからない部分などあればもう一度講義の内容を実装してみる．</li>
<li>【必須ではないけれど推奨】講義で扱った内容を元にオリジナルの機能や処理をつくって動かし，slackにシェアする．</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="phase01の課題について"><a class="header" href="#phase01の課題について">Phase01の課題について</a></h1>
<h2 id="内容"><a class="header" href="#内容">内容</a></h2>
<h3 id="初級"><a class="header" href="#初級">初級</a></h3>
<ul>
<li>Laravel講義で作成したSNSアプリケーションに何かひとつ以上機能を追加して動作する状態にする．</li>
</ul>
<h3 id="上級推奨"><a class="header" href="#上級推奨">上級（推奨）</a></h3>
<ul>
<li>PHPまたはLaravelでオリジナルのWebアプリケーションを制作する．</li>
<li>より実践的な開発にチャレンジするためLaravelをオススメするが，PHPでも可とするので自分のレベルに合わせて選択しましょう．</li>
<li>題材は自由とするが，DBと連携している実装とすること．</li>
<li>こちらにチャレンジする方は早いうちからどんなものつくるかを考えたり，いろいろ試行錯誤して試してみたりしましょう！</li>
</ul>
<h2 id="締切とスケジュール"><a class="header" href="#締切とスケジュール">締切とスケジュール</a></h2>
<p><strong>2021/10/13 23:59:59までに</strong>所定の形式で提出を完了すること！</p>
<ul>
<li>2021/10/08  phase1講義ラスト</li>
<li>2021/10/13  課題提出完了 &amp; 審査開始</li>
<li>2021/10/15  審査完了 &amp; phase1クリアメンバーの告知</li>
<li>2021/10/16  phase2スタート</li>
</ul>
<h2 id="提出の形式"><a class="header" href="#提出の形式">提出の形式</a></h2>
<p>提出形式については後ほどアナウンスします．</p>
<!-- - 提出時は「デプロイしている場合はURL」，していない場合は「画面収録した動画」を提出する．
- 上記どちらの場合も，下記を提出フォームに入力する．
  - アプリケーションの紹介（どんなアプリケーションなのか）
  - 簡単な操作方法 --><div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="php事前準備"><a class="header" href="#php事前準備">PHP事前準備</a></h1>
<h2 id="サーバとクライアント"><a class="header" href="#サーバとクライアント">サーバとクライアント</a></h2>
<p>サーバで動作する言語（サーバサイド）</p>
<ul>
<li>webサーバ上でプログラムが実行される．</li>
<li>PHP, Ruby, Python, JAVA, (node.js), etc…</li>
</ul>
<p>クライアント（webブラウザ）で動作する言語（クライアントサイド）</p>
<ul>
<li>webブラウザでプログラムが実行される．</li>
<li>html, css, JavaScript</li>
</ul>
<p>=&gt;サーバサイド言語の開発にはサーバ上で動作させるアプリケーション（xamppなど）が必要！</p>
<p>（自分のPC上でサーバを動かすイメージ）</p>
<h2 id="サーバのしくみとxamppの役割"><a class="header" href="#サーバのしくみとxamppの役割">サーバのしくみとXAMPPの役割</a></h2>
<h3 id="サーバの役割及び構成"><a class="header" href="#サーバの役割及び構成">サーバの役割及び構成</a></h3>
<p>Webアプリケーションはクライアントとサーバの組み合わせで構成されている．</p>
<p>サーバには「アプリケーションサーバ」と「DBサーバ」が存在し，相互に連携することでアプリケーションを構築している．</p>
<p>（詳しい仕組みの理解は後からでOK．）</p>
<p><img src="php/php_setup/./img/php_file_about_server.svg" alt="サーバのしくみ" /></p>
<h3 id="サーバサイド言語での開発とxamppの役割"><a class="header" href="#サーバサイド言語での開発とxamppの役割">サーバサイド言語での開発とXAMPPの役割</a></h3>
<p>上記のとおり，PHP（及び他のサーバサイド言語）を動作させるには「サーバ」が必要となる．</p>
<p>しかし，自身のPCで開発を行う場合に都度サーバを用意することは効率的ではない．</p>
<p>このような場合に自身のPC内で擬似的なサーバを用意してPHPを動作させることができるのが「xampp」である．</p>
<p>xamppは以下の役割を提供する．</p>
<ul>
<li>PHPを動作させるアプリケーションサーバ（<code>Apatch web server</code>）を用意する．</li>
<li>データを保存するためのデータベース（<code>MySQL Database</code>）を用意する．</li>
<li>その他いろいろ（今回の開発では使用しない）．</li>
</ul>
<p><img src="php/php_setup/./img/php_file_about_xampp.svg" alt="xampp概要" /></p>
<h2 id="xampp環境構築"><a class="header" href="#xampp環境構築">XAMPP環境構築</a></h2>
<h3 id="ダウンロード"><a class="header" href="#ダウンロード">ダウンロード</a></h3>
<p>下記URLにアクセスする．</p>
<p><a href="https://www.apachefriends.org/jp/download.html">https://www.apachefriends.org/jp/download.html</a></p>
<blockquote>
<p><strong>！！注意！！</strong></p>
<p>資料作成時時点では<code>7.3.6 / PHP 7.3.6</code>となっているが，現時点（2021/09/12）では<code>8.0.9 / PHP 8.0.9</code>が最新なのでこちらを用いること！！</p>
<p>上記バージョンより新しいものが表示される場合は最新版をインストールしてください！</p>
</blockquote>
<p>↓アクセス画面
<img src="php/php_setup/./img/php_setup_xampp_download_01.svg" alt="xamppダウンロード画面" /></p>
<p>Macの人は下記からダウンロード．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_download_02.svg" alt="xamppダウンロード画面" /></p>
<p>Windowsの人は下記からダウンロード．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_download_03.svg" alt="xamppダウンロード画面" /></p>
<h3 id="インストール"><a class="header" href="#インストール">インストール</a></h3>
<p>ダウンロードしたらインストールを進める．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_download_04.svg" alt="xamppダウンロード画面" /></p>
<h3 id="動作確認サーバ起動"><a class="header" href="#動作確認サーバ起動">動作確認（サーバ起動）</a></h3>
<p>インストールが済んだらアプリケーションを立ち上げる．</p>
<p>Macの人は以下のようにサーバを起動させる．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_download_05.svg" alt="xamppダウンロード画面" /></p>
<p>Windowsの人は以下の画面．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_download_06.svg" alt="xamppダウンロード画面" /></p>
<h3 id="動作確認画面表示"><a class="header" href="#動作確認画面表示">動作確認（画面表示）</a></h3>
<h4 id="アプリケーションサーバ動作確認"><a class="header" href="#アプリケーションサーバ動作確認">アプリケーションサーバ動作確認</a></h4>
<p>ブラウザで<a href="https://localhost/">https://localhost/</a>にアクセスして下記画面が表示されればOK．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_confirm_01.svg" alt="アプリケーションサーバ動作確認" /></p>
<h4 id="dbサーバ動作確認"><a class="header" href="#dbサーバ動作確認">DBサーバ動作確認</a></h4>
<p>ブラウザで<a href="https://localhost/phpmyadmin">https://localhost/phpmyadmin</a>にアクセスして下記画面が表示されればOK．</p>
<p><img src="php/php_setup/./img/php_setup_xampp_confirm_02.svg" alt="DBサーバ動作確認" /></p>
<h2 id="まとめ"><a class="header" href="#まとめ">まとめ</a></h2>
<p>下記3点が実施できていることを確認しよう！</p>
<ul>
<li>XAMPPの起動確認</li>
<li><a href="http://localhost/">http://localhost/</a>のアクセス確認</li>
<li><a href="http://localhost/phpmyadmin">http://localhost/phpmyadmin</a>のアクセス確認</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="php基礎"><a class="header" href="#php基礎">PHP基礎</a></h1>
<h2 id="本講義の内容とゴール"><a class="header" href="#本講義の内容とゴール">本講義の内容とゴール</a></h2>
<h3 id="本講義の内容"><a class="header" href="#本講義の内容">本講義の内容</a></h3>
<ul>
<li>Webアプリケーションの仕組み．</li>
<li>PHPの基本的な開発手順．</li>
<li>PHPを用いた簡単な処理の実装．</li>
</ul>
<h3 id="本講義のゴール"><a class="header" href="#本講義のゴール">本講義のゴール</a></h3>
<ul>
<li>Webアプリケーションの仕組みをと動きを把握する（大事）！</li>
<li>PHP（の開発手順）に慣れる！</li>
<li>PHPを用いたデータの送受信を通して，アプリケーションの動きをイメージする．</li>
</ul>
<h2 id="準備"><a class="header" href="#準備">準備</a></h2>
<p>以下3点ができているか確認しよう！</p>
<ul>
<li>XAMPPの起動確認</li>
<li><a href="http://localhost/">http://localhost/</a>のアクセス確認</li>
<li>サンプルフォルダを「htdocs」フォルダに入れる</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="php概要"><a class="header" href="#php概要">PHP概要</a></h1>
<h2 id="webアプリケーションの仕組み動き方"><a class="header" href="#webアプリケーションの仕組み動き方">Webアプリケーションの仕組み（動き方）</a></h2>
<p>Webアプリケーション（のソースコード）は世界のどこかにある「サーバ」に置かれている．</p>
<p><img src="php/php01/./img/php_file_web01.svg" alt="webの仕組み" /></p>
<p>Webアプリケーションを使用するときは，Webブラウザに「URL」を指定する．</p>
<ul>
<li>Webブラウザから「http」方式でURLに「リクエスト」を送る．</li>
<li>URLはWeb上にたくさんあるファイルを必ず1つ指定できるようになっている（ユニークな文字列）．</li>
</ul>
<p>URLの構造は下記のようになっている．</p>
<pre><code class="language-txt">https://www.emperor-crimson.com/data/status.php
  ^       ^                      ^      ^
  |       |                      |      |
scheme hostname（サーバ名）    directory filename
</code></pre>
<h2 id="サーバ---クライアント型のアプリケーション"><a class="header" href="#サーバ---クライアント型のアプリケーション">サーバ - クライアント型のアプリケーション</a></h2>
<h3 id="サーバで動作する言語サーバサイド"><a class="header" href="#サーバで動作する言語サーバサイド">サーバで動作する言語（サーバサイド）</a></h3>
<p>サーバ上でプログラムが実行される．</p>
<p><img src="php/php01/./img/php_web_server.svg" alt="サーバサイド言語の動き方" /></p>
<ul>
<li>PHP</li>
<li>Ruby</li>
<li>Python</li>
<li>JAVA</li>
<li>Node.js</li>
<li>etc...</li>
</ul>
<h3 id="クライアントwebブラウザで動作する言語クライアントサイド"><a class="header" href="#クライアントwebブラウザで動作する言語クライアントサイド">クライアント（webブラウザ）で動作する言語（クライアントサイド）</a></h3>
<p><img src="php/php01/./img/php_web_client.svg" alt="クライアントサイド言語の動き方" /></p>
<p>webブラウザがプログラムを実行する．</p>
<ul>
<li>HTML</li>
<li>CSS</li>
<li>JavaScript</li>
</ul>
<h2 id="サーバサイドの役割"><a class="header" href="#サーバサイドの役割">サーバサイドの役割</a></h2>
<p>様々なWebアプリケーションが存在するが，基本のサーバサイド処理は同様である．</p>
<p>基本の機能は何らかのデータを扱うことである．</p>
<h3 id="例"><a class="header" href="#例">例</a></h3>
<ul>
<li>twitter     =&gt;  ツイート，検索，タイムラインの表示，etc</li>
<li>facebook		=&gt;  投稿，検索，記事の更新，コメント，etc</li>
<li>wordpress		=&gt;  ブログ記事の投稿，編集，削除，etc</li>
</ul>
<p>※：アプリケーションは必ずしもPHPで作られているわけではない！！</p>
<h3 id="-key-point"><a class="header" href="#-key-point">💡 Key Point</a></h3>
<blockquote>
<p>上記の処理は以下の4つに集約される．</p>
<ul>
<li>📝 データの「作成」（Create）</li>
<li>📖 データの「参照」（Read）</li>
<li>🔄 データの「更新」（Update）</li>
<li>🗑 データの「削除」（Delete）</li>
</ul>
</blockquote>
<p>これら4種類の処理の頭文字をとって「CRUD」と呼ぶ．</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="php基礎-1"><a class="header" href="#php基礎-1">PHP基礎</a></h1>
<h2 id="サーバサイド言語での開発"><a class="header" href="#サーバサイド言語での開発">サーバサイド言語での開発</a></h2>
<p>PHP（及び他のサーバサイド言語）を動作させるには「サーバ」が必要となる．</p>
<p>しかし，自身のPCで開発を行う場合に都度サーバを用意することは効率的ではない．</p>
<p>このような場合に自身のPC内で擬似的なサーバを用意してPHPを動作させることができるのが「xampp」である．</p>
<p>xamppは以下の役割を提供する．</p>
<ul>
<li>PHPを動作させるアプリケーションサーバ（<code>Apatch web server</code>）を用意する．</li>
<li>データを保存するためのデータベース（<code>MySQL Database</code>）を用意する．</li>
<li>その他いろいろ（今回の開発では使用しない）．</li>
</ul>
<p><img src="php/php01/./img/php_file_about_xampp.svg" alt="xampp概要" /></p>
<h2 id="開発の手順"><a class="header" href="#開発の手順">開発の手順</a></h2>
<p>xamppはPC内に<code>localhost</code>というサーバを用意してくれる．</p>
<p>このサーバ内にPHPファイルを配置することでPHPのコードを動かすことができる．</p>
<p>PC内では予め指定されたディレクトリ（<code>htdocs</code>）がサーバの役割をするよう決められているため，まずPHPファイルを指定のディレクトリに配置する作業が必要となる．</p>
<p>サンプルフォルダを下記のディレクトリへ移動するとPHPを動かせる！</p>
<ul>
<li>windows : <code>C\xampp\htdocs\</code></li>
<li>mac : <code>/Applications/xampp/xamppfiles/htdocs/</code></li>
</ul>
<h2 id="便利な設定"><a class="header" href="#便利な設定">便利な設定</a></h2>
<ul>
<li><code>htdocs</code>はよく使うのでショートカットを用意しておくと便利！！</li>
<li><code>htdocs</code>内に講義用のフォルダを用意しておくと管理しやすい！</li>
<li><code>htdocs</code>内の<code>index.php</code>の名前を<code>index.php.old</code>に変更しておくとブラウザ画面から<code>htdocs</code>内のファイルが確認できて便利！！</li>
</ul>
<h3 id="-key-point-1"><a class="header" href="#-key-point-1">💡 Key Point</a></h3>
<blockquote>
<p><strong>【重要】開発の手順は以下の流れとなる．</strong></p>
<ol>
<li>xamppを起動する</li>
<li>phpファイルが入ったフォルダをhtdocsに配置</li>
<li>vs codeでhtdocsの上記フォルダを開く</li>
<li>phpのコードを書く</li>
<li>ブラウザでlocalhostにアクセスして動作確認</li>
</ol>
<p>以降，3-5の繰り返し！</p>
<p>※一通り終わったらxamppを終了させることを推奨（次回起動でコケる）</p>
</blockquote>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="php基礎-2"><a class="header" href="#php基礎-2">PHP基礎</a></h1>
<h2 id="phpの記述"><a class="header" href="#phpの記述">PHPの記述</a></h2>
<p>PHPは「PHPファイル」に記述する．</p>
<h3 id="phpファイルの作成"><a class="header" href="#phpファイルの作成">PHPファイルの作成</a></h3>
<ul>
<li>拡張子を「<code>.php</code>」にする．</li>
<li>例：「<code>index.php</code>」「<code>create.php</code>」など．</li>
</ul>
<h3 id="開始タグと終了タグ"><a class="header" href="#開始タグと終了タグ">開始タグと終了タグ</a></h3>
<ul>
<li>「<code>&lt;?php</code>」で始まり「<code>?&gt;</code>」で終了（phpしか書かない場合，終了タグは省略可）．</li>
<li>開始タグと終了タグの間に書かれた処理がサーバ上で実行される！</li>
<li>タグ以外の部分（HTMLなど記述した場合）はサーバでは実行されない（そのままソースコードがブラウザに送信される）．</li>
</ul>
<pre><code class="language-php">&lt;?php
// ここにPHPの処理を書く
// ...
?&gt;

// ここから下に書いたコードはサーバで実行されない
// （HTMLなどを書く）
</code></pre>
<h2 id="変数と文字列"><a class="header" href="#変数と文字列">変数と文字列</a></h2>
<p>変数の扱いはJavaScriptと大きく変わらないが，以下の点に注意する．</p>
<ul>
<li>変数名は必ず「<code>$****</code>」←$で始めるルール！</li>
<li>文字列はシングルクォーテーションかダブルクォーテーションで囲む．</li>
<li><code>$</code>の次に数字はNG（JavaScriptと同様）．</li>
<li><code>_</code>などの記号はOK．</li>
</ul>
<pre><code class="language-php">// 数値
$number = 100;

// 文字列
$name = 'engineer';

// 数値スタートはNG
$1lang = 'php';

// 後の数字はOK
$lang2 = 'javascript';

// 記号もOK
$_lang = 'Rust';
</code></pre>
<p>変数と文字列は「<code>.</code>」でつなげる．</p>
<p>ダブルクォーテーションを用いる場合は<code>{}</code>で変数を埋め込むことができる（JavaScriptの<code>``</code>と<code>${}</code>に相当）．</p>
<pre><code class="language-php">$str1 = 'ジーズで' . $lang2 . 'を勉強中！';

// こっちのほうが楽かな．．！
$str2 = &quot;ジーズで{$lang2}を勉強中！&quot;;
</code></pre>
<h2 id="配列と連想配列"><a class="header" href="#配列と連想配列">配列と連想配列</a></h2>
<h3 id="配列"><a class="header" href="#配列">配列</a></h3>
<p>JavaScriptと同様の形式．</p>
<p>データを確認する際には<code>echo</code>または<code>var_dump()</code>を用いる．</p>
<ul>
<li><code>echo</code>で値自体を出力する．</li>
<li><code>var_dump()</code>では配列などの構造も見られる．</li>
<li>デバッグの基本は<code>var_dump()</code>（JavaScriptの<code>console.log()</code>的な）！！！</li>
</ul>
<pre><code class="language-php">// 配列
$array = ['JavaScript', 'PHP', 'Rust', 'COBOL'];

// `echo`で画面上にデータを表示できる．
echo $array[2]; // Rust

// 変数や配列の中身や構造を表示
var_dump($array);

</code></pre>
<h3 id="連想配列"><a class="header" href="#連想配列">連想配列</a></h3>
<p>連想配列はJavaScriptにおける「オブジェクト」に相当する．</p>
<ul>
<li>「キー」「バリュー」のセット．</li>
<li>キー名を指定して値を取り出すことができる．</li>
</ul>
<pre><code class="language-php">// 連想配列
$array2 = [
  &quot;フロント&quot; =&gt; &quot;JavaScript&quot;,
  &quot;サーバ&quot; =&gt; &quot;PHP&quot;,
  &quot;iOS&quot; =&gt; &quot;Swift&quot;,
  &quot;関数型&quot; =&gt; &quot;Haskell&quot;
];

// キー名を指定して値を取り出す
echo $array2['サーバ'];
</code></pre>
<h2 id="条件分岐"><a class="header" href="#条件分岐">条件分岐</a></h2>
<p>条件分岐の構文はJavaScriptと同様．</p>
<pre><code class="language-php">// 0から1のランダムな数を発生させる
$number = rand(0, 1);

// 1かそれ以外で条件分岐
if ($number == 1) {
  echo '値は1です';
} else {
  echo '値は1以外です';
}

</code></pre>
<p>条件分岐を使用したおみくじの例</p>
<pre><code class="language-php">// 1から5の乱数を作成
$random_number = rand(1, 5);

// 乱数の値で条件分岐
if ($random_number == 1) {
  $result =  '大吉';
} elseif ($random_number == ...) {
  $result = ...
} elseif (...) {
  // ...
}
echo $result;

</code></pre>
<h2 id="phpとhtmlの組み合わせ"><a class="header" href="#phpとhtmlの組み合わせ">PHPとHTMLの組み合わせ</a></h2>
<p><code>echo</code>で処理結果を出力できるが，ブラウザに値が表示されるだけで気が利いていない．</p>
<p>そこで，PHPとHTMLを組み合わせて画面を作成する機能を利用してみる．</p>
<ul>
<li>html内に<code>&lt;?=変数名?&gt;</code>と記述することでPHPの変数を埋め込める．</li>
<li>PHPで処理した結果からHTMLをつくるイメージ．</li>
</ul>
<pre><code class="language-php">&lt;?php
// いろいろな処理
$result = '大吉';
?&gt;

// ここからhtmlの記述
&lt;!DOCTYPE html&gt;
  &lt;head&gt;
    // 省略
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;今日の運勢は&lt;?=$result?&gt;です！&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="-key-point-2"><a class="header" href="#-key-point-2">💡 Key Point</a></h3>
<blockquote>
<p>PHPとHTMLが動く順序を把握しよう！</p>
<ol>
<li>PHPの処理が実行される．</li>
<li>処理の結果作成された値がHTMLに埋め込まれ，HTMLが完成する．</li>
<li>HTMLのデータがブラウザに送信される．</li>
<li>ブラウザがHTMLの内容を画面に表示する．</li>
</ol>
</blockquote>
<h2 id="phpの練習"><a class="header" href="#phpの練習">PHPの練習</a></h2>
<p><code>omikuji.php</code>におみくじの処理を作成し，HTMLと組み合わせて画面に結果を表示しよう．</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="クライアント---サーバ間の通信"><a class="header" href="#クライアント---サーバ間の通信">クライアント - サーバ間の通信</a></h1>
<h2 id="サーバへデータを送るとは"><a class="header" href="#サーバへデータを送るとは">サーバへデータを送る，とは？？</a></h2>
<p>htmlファイルやphpファイルから別のphpファイルへデータを送る．
データを受け取ったphpファイルがDBへの保存などの処理を実行．</p>
<p>データ送信には以下の2種類が存在する．</p>
<ul>
<li>GET</li>
<li>POST</li>
</ul>
<p>どちらの場合も手順は同様．</p>
<h3 id="-key-point-3"><a class="header" href="#-key-point-3">💡 Key Point</a></h3>
<blockquote>
<p>必ず送信側ファイルと受信側ファイルの2つでやり取りを行う．</p>
</blockquote>
<h2 id="getでのデータ送受信"><a class="header" href="#getでのデータ送受信"><code>GET</code>でのデータ送受信</a></h2>
<h3 id="get方式でデータをやり取りする場合の流れ"><a class="header" href="#get方式でデータをやり取りする場合の流れ"><code>GET</code>方式でデータをやり取りする場合の流れ．</a></h3>
<h4 id="送信側の処理"><a class="header" href="#送信側の処理">送信側の処理</a></h4>
<p><code>&lt;form&gt;&lt;/form&gt;</code>を用いてデータを送信する．必ず以下の3項目を設定する．</p>
<ul>
<li>データの送信宛先（<code>action=&quot;data_get_confirm.php&quot;</code>）．</li>
<li>データの送信方法（<code>method=&quot;GET&quot;</code>）．</li>
<li>データの項目名（<code>name=&quot;hoge&quot;</code>）．</li>
</ul>
<h4 id="受信側の処理"><a class="header" href="#受信側の処理">受信側の処理</a></h4>
<ul>
<li>送信されたデータは<code>$_GET</code>変数に値が格納される．</li>
<li><code>$_GET</code>は連想配列形式となっており，送信側の<code>name</code>で設定した値がキーとなる．</li>
<li>個別の値を取り出して変数に格納すれば，後は通常の変数として処理可能．</li>
</ul>
<h3 id="送信側のコード"><a class="header" href="#送信側のコード">送信側のコード</a></h3>
<pre><code class="language-php">// data_get.php

// formタグに`action`と`method`を記述
// 個々の項目（inputタグ）に`name`を指定する
&lt;form action=&quot;data_get_confirm.php&quot; method=&quot;GET&quot;&gt;
  &lt;div&gt;
    todo: &lt;input type=&quot;text&quot; name=&quot;todo&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    deadline: &lt;input type=&quot;date&quot; name=&quot;deadline&quot;&gt;
  &lt;/div&gt;
&lt;/form&gt;

</code></pre>
<h3 id="受信側のコード"><a class="header" href="#受信側のコード">受信側のコード</a></h3>
<ul>
<li>GETで送信された情報は<code>$_GET</code>に入って送られる．</li>
<li>まず「情報が受け取れているかどうか」をチェックすることが大事！！</li>
<li>（情報が受け取れないと以降どうしようもない）</li>
<li><code>exit()</code>は以降の処理を中止する．</li>
</ul>
<pre><code class="language-php">// data_get_confirm.php

&lt;?php

// 必ず最初にチェック！！内容を確認したらコメントアウトすること．
var_dump($_GET);
exit();

// キー名に送信元ファイルのname属性を指定する．
$todo = $_GET['todo'];
$deadline = $_GET['deadline'];

?&gt;

</code></pre>
<h3 id="get方式の特徴"><a class="header" href="#get方式の特徴"><code>GET</code>方式の特徴</a></h3>
<ul>
<li>サーバから情報を取得する． URLに情報を追加して送信できる．</li>
<li>データの特定（自分の名前で検索）など，少量のデータ送信に向く（URLにデータが含まれている）．</li>
<li>URLにデータが含まれるため，URLをシェアするだけでデータを共有できる．</li>
</ul>
<h2 id="postでのデータ送受信"><a class="header" href="#postでのデータ送受信"><code>POST</code>でのデータ送受信</a></h2>
<h3 id="post方式でデータをやり取りする場合の流れほとんどgetと同様"><a class="header" href="#post方式でデータをやり取りする場合の流れほとんどgetと同様"><code>POST</code>方式でデータをやり取りする場合の流れ（ほとんど<code>GET</code>と同様）．</a></h3>
<h4 id="送信側の処理-1"><a class="header" href="#送信側の処理-1">送信側の処理</a></h4>
<p><code>&lt;form&gt;&lt;/form&gt;</code>を用いてデータを送信する．必ず以下の3項目を設定する．</p>
<ul>
<li>データの送信宛先（<code>action=&quot;data_post_confirm.php&quot;</code>）．</li>
<li>データの送信方法（<code>method=&quot;POST&quot;</code>）．</li>
<li>データの項目名（<code>name=&quot;hoge&quot;</code>）．</li>
</ul>
<h4 id="受信側の処理-1"><a class="header" href="#受信側の処理-1">受信側の処理</a></h4>
<ul>
<li>送信されたデータは<code>$_POST</code>変数に値が格納される．</li>
<li><code>$_POST</code>は連想配列形式となっており，送信側の<code>name</code>で設定した値がキーとなる．</li>
<li>個別の値を取り出して変数に格納すれば，後は通常の変数として処理可能．</li>
</ul>
<h3 id="送信側のコード-1"><a class="header" href="#送信側のコード-1">送信側のコード</a></h3>
<pre><code class="language-php">// data_post.php

// formタグに`action`と`method`を記述
// 個々の項目（inputタグ）に`name`を指定する
&lt;form action=&quot;data_post_confirm.php&quot; method=&quot;POST&quot;&gt;
  &lt;div&gt;
    todo: &lt;input type=&quot;text&quot; name=&quot;todo&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    deadline: &lt;input type=&quot;date&quot; name=&quot;deadline&quot;&gt;
  &lt;/div&gt;
&lt;/form&gt;

</code></pre>
<h3 id="受信側のコード-1"><a class="header" href="#受信側のコード-1">受信側のコード</a></h3>
<ul>
<li>POSTで送信された情報は<code>$_POST</code>に入って送られる．</li>
<li>以降の流れは<code>GET</code>の場合と同様．</li>
</ul>
<pre><code class="language-php">// data_post_confirm.php

&lt;?php

// POSTの場合も必ず最初にチェック！！
var_dump($_POST);
exit();

// キー名に送信元ファイルのname属性を指定する．
$todo = $_POST['todo'];
$deadline = $_POST['deadline'];

?&gt;

</code></pre>
<h3 id="post方式の特徴"><a class="header" href="#post方式の特徴"><code>POST</code>方式の特徴</a></h3>
<ul>
<li>サーバにデータを送信するときに使用．情報を見えないように送信する方法</li>
<li>個人情報など．（送れるデータ量がGETと比較して多い）</li>
<li>ファイルを送信する場合にも使用</li>
</ul>
<h2 id="参考xss--クロスサイトスクリプティング"><a class="header" href="#参考xss--クロスサイトスクリプティング">【参考】XSS : クロスサイトスクリプティング</a></h2>
<p>formに悪意あるJavaScriptを埋め込まれて実行される場合がある．</p>
<p>HTMLにデータを埋め込む際に対策できる．</p>
<pre><code class="language-php">&lt;?php
$hoge = $_POST['hoge'];
?&gt;

// ここからhtmlの記述
&lt;!DOCTYPE html&gt;
  &lt;head&gt;
    // 省略
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;JavaScriptが送信されると実行されてしまいます&lt;?=$hoge?&gt;&lt;/p&gt;
    &lt;p&gt;ただの文字列として処理されます&lt;?=htmlspecialchars($hoge, ENT_QUOTES);?&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;

</code></pre>
<p>次の項では，データ送信機能を用いて検索処理を実装してみよう．</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="パラメータ送信による検索機能の実装"><a class="header" href="#パラメータ送信による検索機能の実装">パラメータ送信による検索機能の実装</a></h1>
<p>サーバへのデータ送信を用いて，ユーザの入力値によるデータ検索を実装してみよう．</p>
<p>細かい処理はググりながら書けるので，まずは全体の流れを押さえるのが大事ッ！！</p>
<h2 id="処理の流れ"><a class="header" href="#処理の流れ">処理の流れ</a></h2>
<ol>
<li>ユーザがデータを入力する画面を準備する．</li>
<li>検索ボタンクリックでサーバにユーザが入力したデータを送信する．</li>
<li>サーバ側では，受け取ったキーワードを用いて予め用意されたデータの中から該当するものを抽出し，画面を構成する．</li>
</ol>
<h2 id="データの確認"><a class="header" href="#データの確認">データの確認</a></h2>
<p>今回は下記のデータを使用する（すでにファイル内にデータ用意済）．</p>
<p>入力画面でキーワードを入力し，下記のデータの中からキーワードが含まれるものだけを抽出して画面に表示する．</p>
<table><thead><tr><th>id</th><th>name</th><th>hero</th><th>rival</th></tr></thead><tbody>
<tr><td>1</td><td>ファントムブラッド</td><td>ジョナサン・ジョースター</td><td>ディオ・ブランドー</td></tr>
<tr><td>2</td><td>戦闘潮流</td><td>ジョセフ・ジョースター</td><td>カーズ</td></tr>
<tr><td>3</td><td>スターダストクルセイダース</td><td>空条承太郎</td><td>DIO</td></tr>
<tr><td>4</td><td>ダイヤモンドは砕けない</td><td>東方仗助</td><td>吉良吉影</td></tr>
<tr><td>5</td><td>黄金の風</td><td>ジョルノ・ジョバァーナ</td><td>ディアボロ</td></tr>
<tr><td>6</td><td>ストーンオーシャン</td><td>空条徐倫</td><td>エンリコ・プッチ</td></tr>
<tr><td>7</td><td>スティール・ボール・ラン</td><td>ジョニィ・ジョースター</td><td>ファニー・ヴァレンタイン</td></tr>
<tr><td>8</td><td>ジョジョリオン</td><td>東方定助</td><td>透龍</td></tr>
</tbody></table>
<h2 id="ユーザ入力データの送信"><a class="header" href="#ユーザ入力データの送信">ユーザ入力データの送信</a></h2>
<p>まずは検索フォームを用意し，GET でサーバにデータを送信する．</p>
<p>送信側では下記を設定！</p>
<ul>
<li>宛先（<code>action=&quot;data_select.php&quot;</code>）</li>
<li>メソッド（<code>method=&quot;get&quot;</code>）</li>
<li>データ名（<code>name=&quot;keyword&quot;</code>）</li>
</ul>
<pre><code class="language-php">// data_input.php

&lt;form action=&quot;data_select.php&quot; method=&quot;get&quot;&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;検索キーワード入力画面&lt;/legend&gt;
    &lt;div&gt;
      keyword: &lt;input type=&quot;text&quot; name=&quot;keyword&quot;&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;button&gt;検索&lt;/button&gt;
    &lt;/div&gt;
  &lt;/fieldset&gt;
&lt;/form&gt;

</code></pre>
<h2 id="データの受け取り"><a class="header" href="#データの受け取り">データの受け取り</a></h2>
<p>データを受け取る場合には必ず<code>var_dump()</code>を用いてデータを受け取れていることを確認する．</p>
<pre><code class="language-php">// data_select.php

var_dump($_GET);
exit();

</code></pre>
<h2 id="キーワードを用いた検索と画面の構成"><a class="header" href="#キーワードを用いた検索と画面の構成">キーワードを用いた検索と画面の構成</a></h2>
<ol>
<li>受け取ったキーワードを用いて，該当するデータのみ含まれる配列を作成する．<code>id</code>，<code>name</code>，<code>hero</code>，<code>rival</code>いずれかにキーワードが含まれていれば OK とする．</li>
<li>作成した配列から，画面を構成するためのタグを構成する．</li>
</ol>
<pre><code class="language-php">// data_select.php

$keyword = $_GET['keyword'];

// 用意されたデータからキーワードがヒットするものを抽出する処理
$results = array_filter($data, function ($x) use ($keyword) {
  return str_contains($x['id'], $keyword)
    || str_contains($x['name'], $keyword)
    || str_contains($x['hero'], $keyword)
    || str_contains($x['rival'], $keyword);
});

$output = '';

foreach ($results as $result) {
  $output .= &quot;&lt;tr&gt;&lt;td&gt;{$result['id']}&lt;/td&gt;&lt;td&gt;{$result['name']}&lt;/td&gt;&lt;td&gt;{$result['hero']}&lt;/td&gt;&lt;td&gt;{$result['rival']}&lt;/td&gt;&lt;/tr&gt;&quot;;
}

</code></pre>
<p>構成したタグを HTML 部分に埋め込み．</p>
<pre><code class="language-php">// data_select.php

// 省略

&lt;body&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;検索結果&lt;/legend&gt;
    &lt;a href=&quot;data_input.php&quot;&gt;入力画面&lt;/a&gt;
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;id&lt;/th&gt;
          &lt;th&gt;name&lt;/th&gt;
          &lt;th&gt;hero&lt;/th&gt;
          &lt;th&gt;rival&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;!-- ここに`&lt;tr&gt;&lt;td&gt;'id'&lt;/td&gt;&lt;td&gt;'name'&lt;/td&gt;&lt;td&gt;'hero'&lt;/td&gt;&lt;td&gt;'rival'&lt;/td&gt;&lt;/tr&gt;`の形式でデータが表示する --&gt;
        &lt;?= $output ?&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/fieldset&gt;
&lt;/body&gt;

// 省略

</code></pre>
<h3 id="-key-point-4"><a class="header" href="#-key-point-4">💡 Key Point</a></h3>
<blockquote>
<p>処理の流れを把握するのが大事！！</p>
<ol>
<li>ユーザが画面に入力したキーワードをサーバに送信する．</li>
<li>サーバでキーワードを受け取り，もともと存在するデータからヒットするものを抽出する．</li>
<li>ヒットしたデータを元にHTMLをつくる．</li>
<li>HTMLのデータがブラウザに送信される．</li>
<li>画面にHTMLが表示される．</li>
</ol>
</blockquote>
<h2 id="練習"><a class="header" href="#練習">練習</a></h2>
<p><code>data_input.php</code>と<code>data_select.php</code>に上記の処理を記述して動作を確認しよう！</p>
<ol>
<li><code>data_input.php</code>のフォーム部分にデータ送信のためのコードを記述しよう．</li>
<li><code>data_select.php</code>でデータが受け取れることを確認！</li>
<li><code>data_select.php</code>で受け取ったデータを用いてデータを検索し，画面に表示する処理を記述！</li>
</ol>
<p><code>data_input.php</code>から検索キーワードを送信し，キーワードが含まれるデータのみ抽出されて表示されれば OK！</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
